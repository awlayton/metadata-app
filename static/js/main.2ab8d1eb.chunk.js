(this.webpackJsonpCONTxT=this.webpackJsonpCONTxT||[]).push([[0],{113:function(e,t){},159:function(e,t,n){e.exports=n(256)},164:function(e,t,n){},184:function(e,t,n){},225:function(e,t,n){},238:function(e,t){},239:function(e,t){},256:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"geolocation",(function(){return ur})),n.d(r,"survey",(function(){return sr})),n.d(r,"gapiClient",(function(){return lr})),n.d(r,"googleappdata",(function(){return dr})),n.d(r,"googlesheets",(function(){return vr})),n.d(r,"googledrive",(function(){return hr})),n.d(r,"serialize",(function(){return gr})),n.d(r,"weather",(function(){return yr}));var a={};n.r(a),n.d(a,"init",(function(){return Oo})),n.d(a,"showDroneQRScanner",(function(){return go})),n.d(a,"hideDroneQRScanner",(function(){return jo})),n.d(a,"showSensorQRScanner",(function(){return yo})),n.d(a,"hideSensorQRScanner",(function(){return wo})),n.d(a,"showNavigation",(function(){return xo})),n.d(a,"hideNavigation",(function(){return So})),n.d(a,"setSurveyData",(function(){return Co})),n.d(a,"setAnswer",(function(){return Eo})),n.d(a,"setSurveyPage",(function(){return Ro})),n.d(a,"setPages",(function(){return ko})),n.d(a,"goNextPage",(function(){return Po})),n.d(a,"goPreviousPage",(function(){return To})),n.d(a,"completeSurvey",(function(){return qo})),n.d(a,"setCurrentLocation",(function(){return Ao})),n.d(a,"loadappdata",(function(){return No})),n.d(a,"uploadScreenshot",(function(){return Do})),n.d(a,"login",(function(){return Mo})),n.d(a,"logout",(function(){return Vo})),n.d(a,"disconnectGoogle",(function(){return Ho})),n.d(a,"createSheet",(function(){return Uo})),n.d(a,"submitResults",(function(){return Qo})),n.d(a,"confirmSubmit",(function(){return Lo})),n.d(a,"setDebugMenuOpen",(function(){return Wo})),n.d(a,"getCurrentLocationWeather",(function(){return _o})),n.d(a,"autofill",(function(){return Fo})),n.d(a,"displayError",(function(){return Bo})),n.d(a,"clearError",(function(){return zo}));var o={};n.r(o),n.d(o,"canSubmit",(function(){return ri})),n.d(o,"canNext",(function(){return ai})),n.d(o,"canPrev",(function(){return oi})),n.d(o,"pastAnswers",(function(){return ii}));var i={};n.r(i),n.d(i,"default",(function(){return ci}));var c={};n.r(c),n.d(c,"default",(function(){return ui}));var u={};n.r(u),n.d(u,"default",(function(){return si}));var s={};n.r(s),n.d(s,"default",(function(){return li}));var l={};n.r(l),n.d(l,"default",(function(){return pi}));var p={};n.r(p),n.d(p,"default",(function(){return di}));var d={};n.r(d),n.d(d,"default",(function(){return fi}));var f={};n.r(f),n.d(f,"default",(function(){return mi}));var m={};n.r(m),n.d(m,"default",(function(){return bi}));var b={};n.r(b),n.d(b,"default",(function(){return vi}));var v={};n.r(v),n.d(v,"default",(function(){return hi}));var h={};n.r(h),n.d(h,"default",(function(){return Oi}));var O={};n.r(O),n.d(O,"default",(function(){return gi}));var g={};n.r(g),n.d(g,"default",(function(){return ji}));var j=n(0),y=n.n(j),w=n(14),x=n.n(w),S=(n(164),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function C(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var E=n(34),R=n(26),k=(n(258),n(3)),P=n(35),T=n(38),q=n(43),A=n(44),I=n(45),N=n(2),D=n(260),M=n(320),V=n(301),H=n(302),U=n(58),Q=n(306),L=n(303),W=n(135),_=n.n(W),F=n(325),B=n(137),z=n.n(B),G=n(136),J=n.n(G),$=n(90),Y=n.n($),K=n(319),X=n(142),Z=n(305),ee=n(134),te=n.n(ee),ne=n(321),re=n(124),ae=n.n(re),oe=n(125),ie=n.n(oe),ce=n(126),ue=n.n(ce),se=(n(184),n(299)),le=n(78),pe=n.n(le),de=n(127),fe=n.n(de);var me=Object(R.connect)({},(function(e){return y.a.createElement(se.a,{fullScreen:!0,open:e.open},y.a.createElement(V.a,null,y.a.createElement(H.a,null,y.a.createElement(L.a,{color:"inherit",onClick:e.onClose,"aria-label":"Close"},y.a.createElement(pe.a,null)),y.a.createElement(U.a,{variant:"h6",color:"inherit"},"Scan QR code"))),y.a.createElement(fe.a,{style:{width:"100%"},onScan:function(t){t&&(e.onData(t),e.onClose())}}))})),be=n(9),ve=n.n(be),he=n(15),Oe=n(5),ge=n(27),je=n(129),ye=n.n(je),we=n(324),xe=n(79),Se=n.n(xe),Ce=n(19),Ee=(n(195),n(80)),Re=n.n(Ee),ke=n(130),Pe=n.n(ke),Te={model:null};n(216),n(217),n(218),n(219);var qe=n(25);n(220);var Ae={name:"autocomplete",widgetIsLoaded:function(){return!!qe.ui.autocomplete},render:function(e){},isDefaultRender:!0,isFit:function(e){return!!e.autocomplete},activatedByChanged:function(e){Ce.JsonObject.metaData.findProperty("text","autofill")||(Ce.JsonObject.metaData.addProperty("question",{name:"autocomplete",default:!1}),Ce.JsonObject.metaData.addProperty("text","choices:itemvalues"),Ce.JsonObject.metaData.addProperty("text",{name:"choicesByUrl:restfull",className:"ChoicesRestfull",onGetValue:function(e){return e&&e.choicesByUrl&&e.choicesByUrl.getData()},onSetValue:function(e,t){e.choicesByUrl||(e.choicesByUrl=new Ce.ChoicesRestfull),e.choicesByUrl.setData(t)}}))},afterRender:function(e,t){(qe(t).is("input")?qe(t):qe(t).find("input")).autocomplete({appendTo:qe(".sv_main"),classes:{"ui-autocomplete":"sv_q_text_root"},source:(e.choices||[]).map((function(e){return e.text}))})},willUnMount:function(e,t){(qe(t).is("input")?qe(t):qe(t).find("input")).autocomplete("destroy")}},Ie=n(52),Ne=n(25),De=n.n(Ne),Me=(n(223),n(224),n(225),Se()("contxt:tagbox")),Ve={name:"tagbox",title:"Tag box",iconName:"icon-tagbox",widgetIsLoaded:function(){return"function"==typeof De.a&&!!De.a.fn.select2},defaultJSON:{choices:["Item 1","Item 2","Item 3"]},htmlTemplate:'<select multiple="multiple" style="width: 100%;"></select>',isFit:function(e){return"tagbox"===e.getType()},activatedByChanged:function(e){Ce.JsonObject.metaData.addClass("tagbox",[{name:"hasOther",visible:!1}],null,"checkbox"),Ce.JsonObject.metaData.addProperty("tagbox",{name:"select2Config",default:null}),Ce.JsonObject.metaData.addProperty("tagbox",{name:"placeHolder",default:null}),Ce.matrixDropdownColumnTypes.tagbox={properties:["choices","choicesOrder","choicesByUrl","optionsCaption","otherText","choicesVisibleIf"]}},fixStyles:function(e){var t=e.parentElement.querySelector(".select2-search__field");t&&(t.style.border="none")},afterRender:function(e,t){var n=this,r=Object(Ie.a)({tags:!0,disabled:e.isReadOnly,placeholder:e.placeHolder,theme:"material",tokenSeparators:[","]},e.select2Config),a=De()(t).is("select")?De()(t):De()(t).find("select");a.select2(r),n.fixStyles(t);var o=function(){(e.value||[]).forEach((function(e){if(0===a.find('option[value="'.concat(e,'"]')).length){var t=new Option(e,e,!0,!0);a.append(t).trigger("change")}})),a.val(e.value).trigger("change"),n.fixStyles(t)},i=function(){a.select2().empty(),r.ajax||(r.data=e.visibleChoices.map((function(e){return{id:e.value,text:e.text}}))),a.select2(r),o()};e.readOnlyChangedCallback=function(){a.prop("disabled",e.isReadOnly)},e.registerFunctionOnPropertyValueChanged("visibleChoices",(function(){i()})),e.valueChangedCallback=o;var c=function(t){Me("setValue %o",t);var n=a.select2("data").map((function(e){return e.id}));n.forEach((function(n){if(!e.choices.some((function(e){return e.value===n}))){var r=new Ce.ItemValue(t.params.data.id);e.choices.push(r)}})),e.value=n};a.on("select2:select",c),a.on("select2:unselect",c),i()},willUnmount:function(e,t){De()(t).find("select").off("select2:select").select2("destroy"),e.readOnlyChangedCallback=null}},He=n(89),Ue=n.n(He);function Qe(e){return"object"===typeof e?Ue()(e)||e.every&&e.every(Ue.a):void 0===e||""===e}function Le(){var e=Object(k.a)(["uploadScreenshot"]);return Le=function(){return e},e}function We(){var e=Object(k.a)(["autofill"]);return We=function(){return e},e}function _e(){var e=Object(k.a)(["setPages"]);return _e=function(){return e},e}function Fe(){var e=Object(k.a)(["pageNum"]);return Fe=function(){return e},e}function Be(){var e=Object(k.a)(["setSurveyPage"]);return Be=function(){return e},e}function ze(){var e=Object(k.a)(["setSurveyData"]);return ze=function(){return e},e}function Ge(){var e=Object(k.a)(["surveyData"]);return Ge=function(){return e},e}function Je(){var e=Object(k.a)(["initSurvey"]);return Je=function(){return e},e}function $e(){var e=Object(k.a)(["questions"]);return $e=function(){return e},e}function Ye(){var e=Object(k.a)(["",""]);return Ye=function(){return e},e}function Ke(){var e=Object(k.a)(["pageNum"]);return Ke=function(){return e},e}function Xe(){var e=Object(k.a)(["questions"]);return Xe=function(){return e},e}function Ze(){var e=Object(k.a)(["surveyData"]);return Ze=function(){return e},e}function et(){var e=Object(k.a)(["pageNum"]);return et=function(){return e},e}function tt(){var e=Object(k.a)(["pageNum"]);return tt=function(){return e},e}function nt(){var e=Object(k.a)(["surveyData"]);return nt=function(){return e},e}Ce.CustomWidgetCollection.Instance.addCustomWidget(Ae,"property"),Ce.CustomWidgetCollection.Instance.addCustomWidget(Ve,"customtype"),Ce.JsonObject.metaData.addProperty("question",{name:"cerebralbutton"}),Ce.JsonObject.metaData.addProperty("question",{name:"autofill",default:!1}),Ce.JsonObject.metaData.addProperty("file",{name:"imageWidth",default:"100%"});new Pe.a;var rt=Se()("contxt:survey");rt.log=console.info.bind(console);var at={};function ot(){var e=Array.prototype.slice.call(arguments),t=e[0],n=e.slice(1),r=at[t]||rt.extend(t);return at[t]=r,r.apply(void 0,Object(ge.a)(n))}var it=function(e){function t(){return Object(P.a)(this,t),Object(q.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.get,r=t.theme.palette,a=Ce.StylesManager.ThemeColors.default;a["$main-color"]=r.primary.main,a["$main-hover-color"]=r.primary.dark,a["$text-color"]=r.text.primary,a["$header-color"]=r.secondary.main,a["$border-color"]=r.divider,a["$header-background-color"]=r.secondary.main,a["$body-background-color"]=r.background.paper,a["$body-container-background-color"]=r.background.paper,a["$inputs-background-color"]=r.background.default,a["$error-color"]=r.error.main,a["$error-background-color"]=r.error.light,Ce.StylesManager.applyTheme("default"),this.model=new Ce.Model(this.props.questions),Te.model=this.model;var o=n(Object(N.state)(nt()));o&&(this.model.data=o);var i=n(Object(N.state)(tt()));void 0!==i&&(this.model.currentPageNo=i),this.props.reaction("changePage",{pageNum:Object(N.state)(et())},(function(t){var n=t.pageNum;return e.model.currentPageNo=n})),this.props.reaction("changeData",{data:Object(N.state)(Ze())},(function(t){var n=t.data;return e.model.data=n})),this.props.reaction("changeQuestions",{questions:Object(N.state)(Xe())},(function(t){var n=t.questions;e.model=new Ce.Model(n),Te.model=e.model})),this.updatePages(this.model),this.props.setData({data:this.model.data})}},{key:"updatePages",value:function(e){this.props.setPages({pages:e.visiblePages.map((function(e){return{error:e.hasErrors(!1,!1),name:e.name,title:e.title}}))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.get,r=t.theme,a=t.classes,o=void 0===a?{}:a,i=Object(Oe.a)(t,["get","theme","classes"]);return y.a.createElement(Ce.Survey,Object.assign({},i,{model:this.model,onCurrentPageChanged:function(e){ot("onCurrentPageChanged","".concat(e.currentPageNo)),n(Object(N.state)(Ke()))!==e.currentPageNo&&i.setPage({pageNum:e.currentPageNo})},onUpdateQuestionCssClasses:function(e,t){var n=t.question,r=t.cssClasses;ot("onUpdateQuestionCssClasses","".concat(n.name,"=%o"),r),r.preview=Re()(r.preview,o.ssPreview)},onPageVisibleChanged:this.updatePages.bind(this),onPageAdded:this.updatePages.bind(this),onUploadFiles:function(){var e=Object(he.a)(ve.a.mark((function e(t,n){var r,a,o,c;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.files,a=n.callback,ot("onUploadFiles","%o",r),o=r[0],e.next=5,i.upload({file:o});case 5:c=e.sent,a("success",[{file:o,content:c.url}]);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onValueChanging:function(e,t){t.question;var n=t.name,r=t.oldValue,a=t.value;ot("onValueChanging","%o ".concat(n,"=%o"),r,a)},onValueChanged:function(t,n){var r=n.name,a=n.value;ot("onValueChanged","%o=%o",n.question,a),i.setData({data:t.data,name:r,value:a}),setTimeout((function(){return e.updatePages(t)}))},onMatrixRowAdded:function(t,n){var r=n.question;ot("onMatrixRowAdded","%d %o",n.rowIndex,r),setTimeout((function(){return e.updatePages(t)}))},onMatrixRowRemoved:function(t,n){var r=n.question;ot("onMatrixRowRemoved","%d %o",n.rowIndex,r),setTimeout((function(){return e.updatePages(t)}))},onDynamicPanelItemValueChanged:function(e,t){ot("onDynamicPanelItemValueChanged","%o=%o %o=%o",t.question,t.value,t.itemIndex,t.itemValue)},onMatrixCellValueChanged:function(e,t){ot("onMatrixCellValueChanged","%o=%o %s %s",t.question,t.value,t.columnName,t.row)},onValidateQuestion:function(e,t){ot("onValidateQuestion","%o %s %s %s",t.question,t.name,t.value,t.error)},completedHtml:ye.a.renderToString(y.a.createElement(Z.a,{theme:r},"props.completedHtml")),onQuestionAdded:function(e,t){ot("onQuestionAdded","%o",t)},onAfterRenderQuestion:function(){var e=Object(he.a)(ve.a.mark((function e(t,a){var o,c,u,s,l;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.question,c=a.htmlElement,ot("onAfterRenderQuestion","%o",o),u=o.autofill,!Qe(o.value)||!u){e.next=14;break}if("function"!==typeof u){e.next=10;break}return e.next=7,u(o);case 7:o.value=e.sent,e.next=14;break;case 10:return e.next=12,i.autofill({question:o.name,autofill:u});case 12:s=e.sent,o.value=s&&s.answer;case 14:o.cerebralbutton&&(l=n(Object(N.sequences)(Ye(),o.cerebralbutton)),x.a.render(y.a.createElement(Z.a,{theme:r},y.a.createElement(Q.a,{onClick:function(){return l()}},o.title)),c));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}))}}]),t}(j.Component),ct=Object(R.connect)({questions:Object(N.state)($e()),init:Object(N.sequences)(Je()),data:Object(N.state)(Ge()),setData:Object(N.sequences)(ze()),setPage:Object(N.sequences)(Be()),currentPageNo:Object(N.state)(Fe()),setPages:Object(N.sequences)(_e()),autofill:Object(N.sequences)(We()),upload:Object(N.sequences)(Le())},Object(we.a)(it)),ut=n(131),st=n.n(ut),lt=n(132),pt=n.n(lt),dt=n(32),ft=n(326),mt=n(322),bt=n(308),vt=n(307),ht=n(265),Ot=n(309),gt=n(310),jt=n(311),yt=n(11),wt=function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"center"},content:{textAlign:"center",flexGrow:1,alignSelf:"center",maxWidth:800},appBar:Object(yt.a)({top:0,bottom:"auto",marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),toolbar:e.mixins.toolbar,bottomBar:Object(yt.a)({bottom:0,top:"auto",marginLeft:240},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),grow:{flexGrow:1},menuButton:Object(yt.a)({marginLeft:-12,marginRight:20},e.breakpoints.up("sm"),{display:"none"}),drawer:Object(yt.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),drawerPaper:{width:240},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},error:{backgroundColor:e.palette.error.dark},ssPreview:{width:"95%"}}};function xt(){var e=Object(k.a)(["pageNum"]);return xt=function(){return e},e}function St(){var e=Object(k.a)(["pages"]);return St=function(){return e},e}function Ct(){var e=Object(k.a)(["setSurveyPage"]);return Ct=function(){return e},e}function Et(){var e=Object(k.a)(["hideNavigation"]);return Et=function(){return e},e}function Rt(){var e=Object(k.a)(["showNavigation"]);return Rt=function(){return e},e}function kt(){var e=Object(k.a)(["navigationOpen"]);return kt=function(){return e},e}var Pt=Object(R.connect)({navigationOpen:Object(N.state)(kt()),showNavigation:Object(N.sequences)(Rt()),hideNavigation:Object(N.sequences)(Et()),setSurveyPage:Object(N.sequences)(Ct()),pages:Object(N.state)(St()),pageNum:Object(N.state)(xt())},Object(D.a)(wt)((function(e){var t=e.classes,n=y.a.createElement("div",null,y.a.createElement(H.a,null,y.a.createElement(U.a,{variant:"h6",color:"primary",align:"center",className:t.grow,noWrap:!0},"Pages")),y.a.createElement(vt.a,null),y.a.createElement(bt.a,null,e.pages.map((function(t,n){var r=t.name,a=t.title,o=t.error;return y.a.createElement(ht.a,{key:r,button:!0,selected:n===e.pageNum,className:o?"page-err":"page-complete",onClick:function(){return e.setSurveyPage({pageNum:n})}},y.a.createElement(Ot.a,null,o?y.a.createElement(st.a,{color:"error"}):y.a.createElement(pt.a,null)),y.a.createElement(gt.a,{primary:a,secondary:o?"Incomplete":"Complete",secondaryTypographyProps:{color:o?"error":"textSecondary"}}))})),e.readme&&y.a.createElement(y.a.Fragment,null,y.a.createElement(vt.a,null),y.a.createElement(ht.a,{component:jt.a,target:"_blank",href:e.readme},y.a.createElement(gt.a,{primary:"Readme"})))));return y.a.createElement("nav",{className:t.drawer},y.a.createElement(mt.a,Object.assign({},e.permScreens,{implementation:"js"}),y.a.createElement(ft.a,{open:e.navigationOpen,onOpen:function(){return e.showNavigation()},onClose:function(){return e.hideNavigation()},classes:{paper:t.drawerPaper}},n)),y.a.createElement(mt.a,Object.assign({},e.tempScreens,{implementation:"js"}),y.a.createElement(dt.a,{variant:"permanent",open:!0,classes:{paper:t.drawerPaper}},n)))}))),Tt=n(315),qt=n(313),At=n(314),It=n(312);function Nt(){var e=Object(k.a)(["confirmSubmit"]);return Nt=function(){return e},e}function Dt(){var e=Object(k.a)(["resultsUrl"]);return Dt=function(){return e},e}function Mt(){var e=Object(k.a)(["confirmSubmitOpen"]);return Mt=function(){return e},e}var Vt=Object(R.connect)({open:Object(N.state)(Mt()),resultsUrl:Object(N.state)(Dt()),confirm:Object(N.sequences)(Nt())},(function(e){var t=e.confirm;return y.a.createElement(se.a,{open:e.open,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},y.a.createElement(It.a,{id:"alert-dialog-title"},"Successfully submitted metadata"),y.a.createElement(qt.a,null,y.a.createElement(At.a,{id:"alert-dialog-description"},"Your metadata have been uploaded ",y.a.createElement(jt.a,{target:"_blank",href:e.resultsUrl},"here."))),y.a.createElement(Tt.a,null,y.a.createElement(Q.a,{onClick:t,color:"primary",autoFocus:!0},"OK")))})),Ht=n(323),Ut=n(317);function Qt(){var e=Object(k.a)(["disconnectGoogle"]);return Qt=function(){return e},e}function Lt(){var e=Object(k.a)(["submitResults"]);return Lt=function(){return e},e}function Wt(){var e=Object(k.a)(["setDebugMenuOpen"]);return Wt=function(){return e},e}function _t(){var e=Object(k.a)(["debugMenuOpen"]);return _t=function(){return e},e}var Ft=Object(R.connect)({open:Object(N.state)(_t()),setState:Object(N.sequences)(Wt()),submitResults:Object(N.sequences)(Lt()),disconnect:Object(N.sequences)(Qt())},(function(e){var t=y.a.createElement(Q.a,{"aria-owns":"debug-menu","aria-haspopup":"true",onClick:function(){return e.setState({open:!0})},color:"inherit"},Object({NODE_ENV:"production",PUBLIC_URL:"https://awlayton.github.io/metadata-app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_WEATHERSTACK_KEY:"a0f19817e4f97dcf9a2b4da08cfa516a",REACT_APP_NAME:"CONTxT"}).REACT_APP_GIT);return y.a.createElement("div",null,t,y.a.createElement(Ht.a,{id:"debug-menu",open:e.open||!1,onClose:function(){return e.setState({open:!1})}},y.a.createElement(Ut.a,{onClick:function(){return e.submitResults()}},"Force Submit"),y.a.createElement(Ut.a,{onClick:function(){return e.disconnect()}},"Disconnect Google")))})),Bt=n(327),zt=n(318),Gt=n(133),Jt=n.n(Gt);function $t(){var e=Object(k.a)(["clearError"]);return $t=function(){return e},e}function Yt(){var e=Object(k.a)(["error"]);return Yt=function(){return e},e}var Kt=Object(R.connect)({error:Object(N.state)(Yt()),close:Object(N.sequences)($t())},(function(e){var t=e.classes,n=void 0===t?{}:t,r=e.error,a=e.close;return y.a.createElement(Bt.a,{open:!!r,anchorOrigin:{vertical:"top",horizontal:"center"}},y.a.createElement(zt.a,{className:n.error,"aria-describedby":"client-snackbar",message:y.a.createElement("span",{id:"client-snackbar",className:n.root},y.a.createElement(Jt.a,{className:Re()(n.iconVariant,n.icon)}),r&&r.name+": "+r.message),action:[y.a.createElement(L.a,{key:"close","aria-label":"Close",color:"inherit",onClick:a},y.a.createElement(pe.a,{className:n.icon}))]}))})),Xt=["https://www.googleapis.com/auth/drive.appdata","https://www.googleapis.com/auth/drive.file"].join(" "),Zt={dirty:!1,raw:"v0.4.0-8-ge17dc0e",hash:"ge17dc0e",distance:8,tag:"v0.4.0",semver:{options:{loose:!1,includePrerelease:!1},loose:!1,raw:"v0.4.0",major:0,minor:4,patch:0,prerelease:[],build:[],version:"0.4.0"},suffix:"8-ge17dc0e",semverString:"0.4.0+8.ge17dc0e"};function en(){var e=Object(k.a)(["canPrev"]);return en=function(){return e},e}function tn(){var e=Object(k.a)(["canNext"]);return tn=function(){return e},e}function nn(){var e=Object(k.a)(["canSubmit"]);return nn=function(){return e},e}function rn(){var e=Object(k.a)(["submitResults"]);return rn=function(){return e},e}function an(){var e=Object(k.a)(["createSheet"]);return an=function(){return e},e}function on(){var e=Object(k.a)(["google"]);return on=function(){return e},e}function cn(){var e=Object(k.a)(["logout"]);return cn=function(){return e},e}function un(){var e=Object(k.a)(["login"]);return un=function(){return e},e}function sn(){var e=Object(k.a)(["loggedin"]);return sn=function(){return e},e}function ln(){var e=Object(k.a)(["init"]);return ln=function(){return e},e}function pn(){var e=Object(k.a)(["hideSensorQRScanner"]);return pn=function(){return e},e}function dn(){var e=Object(k.a)(["hideDroneQRScanner"]);return dn=function(){return e},e}function fn(){var e=Object(k.a)(["showSensorQRScanner"]);return fn=function(){return e},e}function mn(){var e=Object(k.a)(["showDroneQRScanner"]);return mn=function(){return e},e}function bn(){var e=Object(k.a)(["sensorQRScannerActive"]);return bn=function(){return e},e}function vn(){var e=Object(k.a)(["droneQRScannerActive"]);return vn=function(){return e},e}function hn(){var e=Object(k.a)(["questions"]);return hn=function(){return e},e}function On(){var e=Object(k.a)(["completeSurvey"]);return On=function(){return e},e}function gn(){var e=Object(k.a)(["goPreviousPage"]);return gn=function(){return e},e}function jn(){var e=Object(k.a)(["goNextPage"]);return jn=function(){return e},e}function yn(){var e=Object(k.a)(["pageNum"]);return yn=function(){return e},e}function wn(){var e=Object(k.a)(["pages"]);return wn=function(){return e},e}function xn(){var e=Object(k.a)(["setSurveyPage"]);return xn=function(){return e},e}function Sn(){var e=Object(k.a)(["hideNavigation"]);return Sn=function(){return e},e}function Cn(){var e=Object(k.a)(["showNavigation"]);return Cn=function(){return e},e}function En(){var e=Object(k.a)(["navigationOpen"]);return En=function(){return e},e}function Rn(){var e=Object(k.a)(["initialized"]);return Rn=function(){return e},e}var kn=Zt.semverString,Pn={title:"".concat("CONTxT"," ").concat(kn),meta:{"ui-version":kn}},Tn=ue.a.parse(window.location.search),qn=Object(X.a)({palette:{type:Tn.theme||"dark",primary:te.a}});window.addEventListener("beforeinstallprompt",(function(e){e.preventDefault(),void 0!==Tn.install&&e.prompt()}));var An=Object(D.a)(wt)(function(e){function t(){return Object(P.a)(this,t),Object(q.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(T.a)(t,[{key:"componentWillMount",value:function(){this.props.init()}},{key:"render",value:function(){var e=this.props,t=e.classes;return y.a.createElement("div",{className:t.root},y.a.createElement(Pt,{classes:t,permScreens:{smUp:!0},tempScreens:{xsDown:!0},readme:"https://docs.google.com/document/d/1wkG-bEYFyqxV-SmYoQmgLTJ1m1pvPvXlnTTnjh60ZFY/edit?usp=sharing"}),y.a.createElement(V.a,{position:"fixed",className:t.appBar},y.a.createElement(H.a,null,void 0!==Tn.debug&&y.a.createElement(Ft,null),y.a.createElement(L.a,{className:t.menuButton,color:"inherit",onClick:function(){return e.showNavigation()},"aria-label":"Pages"},y.a.createElement(_.a,null)),y.a.createElement(Q.a,{color:"inherit",disabled:!e.canSubmit,onClick:function(){return e.submit()}},"Submit",y.a.createElement(Y.a,null)),y.a.createElement("div",{className:t.grow}),y.a.createElement("div",{className:"g-signin2","data-theme":"dark","data-scope":Xt}))),y.a.createElement(me,{open:e.droneQRScannerActive,onClose:e.hideDroneQRScanner}),y.a.createElement(me,{open:e.sensorQRScannerActive,onClose:e.hideSensorQRScanner}),y.a.createElement(Vt,{classes:t}),y.a.createElement("main",{className:t.content},y.a.createElement("div",{className:t.toolbar}),e.initialized&&(e.loggedin?y.a.createElement(ct,{classes:t,isSinglePage:void 0!==Tn.singlePage,completedHtml:y.a.createElement("div",null,y.a.createElement(U.a,{color:"inherit"},"Submitting Metadata"),y.a.createElement(ne.a,{p:4},y.a.createElement(K.a,{size:100}))),onComplete:function(t){t.data;return e.submitResults()}}):y.a.createElement(ne.a,{p:4},y.a.createElement(U.a,{color:"inherit"},"Please sign in to continue."))),y.a.createElement("div",{className:t.toolbar})),y.a.createElement(Kt,{classes:t}),y.a.createElement(V.a,{position:"fixed",className:t.bottomBar},y.a.createElement(F.a,{steps:e.pages.length,position:"static",activeStep:e.pageNum,className:t.mobileStepper,nextButton:e.pageNum===e.pages.length-1?y.a.createElement(Q.a,{color:"primary",disabled:!e.canSubmit,onClick:function(){return e.submit()}},"Sumbit",y.a.createElement(Y.a,null)):y.a.createElement(Q.a,{color:"primary",disabled:!e.canNext,onClick:function(){return e.goNextPage()}},"Next",y.a.createElement(J.a,null)),backButton:y.a.createElement(Q.a,{color:"primary",disabled:!e.canPrev,onClick:function(){return e.goPreviousPage()}},y.a.createElement(z.a,null),"Previous")})))}}]),t}(j.Component));var In=Object(R.connect)({initialized:Object(N.state)(Rn()),navigationOpen:Object(N.state)(En()),showNavigation:Object(N.sequences)(Cn()),hideNavigation:Object(N.sequences)(Sn()),setSurveyPage:Object(N.sequences)(xn()),pages:Object(N.state)(wn()),pageNum:Object(N.state)(yn()),goNextPage:Object(N.sequences)(jn()),goPreviousPage:Object(N.sequences)(gn()),submit:Object(N.sequences)(On()),questions:Object(N.state)(hn()),droneQRScannerActive:Object(N.state)(vn()),sensorQRScannerActive:Object(N.state)(bn()),showDroneQRScanner:Object(N.sequences)(mn()),showSensorQRScanner:Object(N.sequences)(fn()),hideDroneQRScanner:Object(N.sequences)(dn()),hideSensorQRScanner:Object(N.sequences)(pn()),init:Object(N.sequences)(ln()),loggedin:Object(N.state)(sn()),login:Object(N.sequences)(un()),logout:Object(N.sequences)(cn()),google:Object(N.state)(on()),createSheet:Object(N.sequences)(an()),submitResults:Object(N.sequences)(rn()),canSubmit:Object(N.state)(nn()),canNext:Object(N.state)(tn()),canPrev:Object(N.state)(en())},(function(e){return y.a.createElement(ie.a,null,y.a.createElement(Z.a,{theme:qn},y.a.createElement(ae.a,Pn),y.a.createElement(y.a.Fragment,null,y.a.createElement(M.a,null),y.a.createElement(An,e))))})),Nn=n(10),Dn=n(82),Mn=n.n(Dn);function Vn(){var e=Object(k.a)(["",".persistState"]);return Vn=function(){return e},e}function Hn(){var e=Object(k.a)(["",""]);return Hn=function(){return e},e}function Un(){var e=Object(k.a)(["initialized"]);return Un=function(){return e},e}function Qn(){var e=Object(k.a)(["val"]);return Qn=function(){return e},e}function Ln(){var e=Object(k.a)(["",""]);return Ln=function(){return e},e}function Wn(){var e=Object(k.a)(["val"]);return Wn=function(){return e},e}function _n(){var e=Object(k.a)(["",""]);return _n=function(){return e},e}function Fn(){var e=Object(k.a)(["val"]);return Fn=function(){return e},e}function Bn(){var e=Object(k.a)(["val"]);return Bn=function(){return e},e}function zn(){var e=Object(k.a)(["initialized"]);return zn=function(){return e},e}var Gn,Jn=n(83),$n=n.n(Jn),Yn=n(138),Kn=n.n(Yn),Xn=n(69),Zn=n.n(Xn),er=n(139),tr=n.n(er),nr=n(91),rr=n.n(nr),ar=function(e){function t(e){var n;return Object(P.a)(this,t),(n=Object(q.a)(this,Object(A.a)(t).call(this,e))).name="GetLocationError",n}return Object(I.a)(t,e),t}(E.CerebralError),or=function(e){function t(e){var n;Object(P.a)(this,t);var r=e;return e.result&&r.result.error&&(r=e.result.error),(n=Object(q.a)(this,Object(A.a)(t).call(this,r.message))).name="GAPIError",n.result=r,n}return Object(I.a)(t,e),t}(E.CerebralError),ir=function(e){function t(e,n,r){var a;return Object(P.a)(this,t),(a=Object(q.a)(this,Object(A.a)(t).call(this,'Error serializing column "'.concat(n,'" of row ').concat(e,": ").concat(r.message)))).name="DeserializeError",a.err=r,a}return Object(I.a)(t,e),t}(E.CerebralError),cr=function(e){function t(e,n,r){var a;return Object(P.a)(this,t),(a=Object(q.a)(this,Object(A.a)(t).call(this,'Error deserializing column "'.concat(n,'" of row ').concat(e,": ").concat(r.message)))).name="DeserializeError",a.err=r,a}return Object(I.a)(t,e),t}(E.CerebralError),ur={getCurrentLoc:function(){return Object(he.a)(ve.a.mark((function e(){var t;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new $n.a((function(e,t){return navigator.geolocation.getCurrentPosition(e,t)})).then((function(e){return e.coords}));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),e.t1=e.t0.code,e.next=1===e.t1?11:2===e.t1?13:3===e.t1?15:17;break;case 11:return t="Permission denied",e.abrupt("break",18);case 13:return t="Position unavailable",e.abrupt("break",18);case 15:return t="Timeout obtaining position",e.abrupt("break",18);case 17:t="Unknown error";case 18:throw new ar(t);case 19:case"end":return e.stop()}}),e,null,[[0,6]])})))()}},sr={setAnswer:function(e,t){Te.model.setValue(e,t)},setPage:function(e){Te.model.currentPageNo=e},nextPage:function(){return Te.model.nextPage()},previousPage:function(){return Te.model.prevPage()},setData:function(e){Te.model.data=e},submit:function(){return Te.model.completeLastPage()}},lr={init:function(e){var t=this,n=e.login,r=e.logout;return Object(he.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gn=$n.a.resolve(Kn()()).tap((function(e){var t=e.load;return new $n.a((function(e,n){return t("client",{callback:e,onerror:n,timeout:1e4,ontimeout:n})}))})).tap((function(e){return e.client.init({discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest","https://sheets.googleapis.com/$discovery/rest?version=v4"],scope:Xt})})).tap((function(e){var a=e.auth2.getAuthInstance(),o=function(e){if(e){var o=a.currentUser.get().getBasicProfile();n&&t.context.get(n)({name:o.getName()})}else r&&t.context.get(r)()};a.isSignedIn.listen(o),o(a.isSignedIn.get())})),e.next=3,Gn;case 3:case"end":return e.stop()}}),e)})))()},get:function(){return Object(he.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gn.tap((function(e){var t=e.auth2.getAuthInstance().currentUser.get();if(!t.hasGrantedScopes(Xt))return t.grant({scope:Xt})})).get("client"));case 1:case"end":return e.stop()}}),e)})))()},disconnect:function(){return Object(he.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Gn;case 3:e.sent.auth2.getAuthInstance().currentUser.get().disconnect();case 4:case"end":return e.stop()}}),e)})))()}},pr=["https://www.googleapis.com/auth/drive.appdata"].join(" "),dr={getData:function(){var e=this;return Object(he.a)(ve.a.mark((function t(){var n,r,a,o,i;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.context.gapiClient.get(pr);case 2:return n=t.sent,r=n.drive,t.prev=4,t.next=8,r.files.list({spaces:"appDataFolder",q:"name='config.json'",fields:"files(id, appProperties)"});case 8:o=t.sent,a=o.result,t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(4),new or(t.t0);case 15:return i=a.files[0]||{},t.abrupt("return",{data:i.appProperties,id:i.id});case 17:case"end":return t.stop()}}),t,null,[[4,12]])})))()},initData:function(e){var t=this,n=e.body,r=void 0===n?{}:n;return Object(he.a)(ve.a.mark((function e(){var n,a,o,i;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.context.gapiClient.get(pr);case 2:return n=e.sent,a=n.drive,e.prev=4,e.next=7,a.files.create({resource:{name:"config.json",mimeType:"application/json",parents:["appDataFolder"],appProperties:r,fields:"id"}});case 7:return o=e.sent,i=o.result,e.abrupt("return",i.id);case 12:throw e.prev=12,e.t0=e.catch(4),new or(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))()},updateData:function(e){var t=this,n=e.body,r=void 0===n?{}:n,a=e.id;return Object(he.a)(ve.a.mark((function e(){var n,o,i,c;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.context.gapiClient.get(pr);case 2:return n=e.sent,o=n.drive,e.prev=4,e.next=7,o.files.update({fileId:a,resource:{name:"config.json",mimeType:"application/json",appProperties:r}});case 7:return i=e.sent,c=i.result,e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(4),new or(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))()}},fr="https://www.googleapis.com/auth/drive.file",mr=Zt.semver,br=mr.major||mr.minor/10,vr={createSheet:function(){var e=this;return Object(he.a)(ve.a.mark((function t(){var n,r,a,o,i,c;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.context.gapiClient.get(fr);case 2:return n=t.sent,r=n.sheets,a=vr.getVersion(),o={title:"".concat("CONTxT"," metadata uploads v").concat(a)},t.prev=6,t.next=9,r.spreadsheets.create({properties:o});case 9:return i=t.sent,c=i.result,t.abrupt("return",c);case 14:throw t.prev=14,t.t0=t.catch(6),new or(t.t0);case 17:case"end":return t.stop()}}),t,null,[[6,14]])})))()},getVersion:function(){return br},getSheet:function(e){var t=this;return Object(he.a)(ve.a.mark((function n(){var r,a,o,i,c;return ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.context.gapiClient.get(fr);case 2:return r=n.sent,a=r.sheets,n.prev=4,n.next=8,a.spreadsheets.values.get({spreadsheetId:e,range:["Sheet1"]});case 8:i=n.sent,o=i.result,n.next=15;break;case 12:throw n.prev=12,n.t0=n.catch(4),new or(n.t0);case 15:if(o.values){n.next=17;break}return n.abrupt("return",[]);case 17:return c=Zn.a.utils.aoa_to_sheet(o.values),n.abrupt("return",Zn.a.utils.sheet_to_json(c));case 19:case"end":return n.stop()}}),n,null,[[4,12]])})))()},writeSheet:function(e,t){var n=this;return Object(he.a)(ve.a.mark((function r(){var a,o,i,c,u,s,l,p;return ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a="https://docs.google.com/spreadsheets",r.next=3,n.context.gapiClient.get(fr);case 3:return o=r.sent,i=o.sheets,c=Zn.a.utils.json_to_sheet(t),u=Zn.a.utils.sheet_to_json(c,{header:1}),r.prev=7,r.next=10,i.spreadsheets.values.update({spreadsheetId:e,range:c["!ref"],valueInputOption:"USER_ENTERED",includeValuesInResponse:!1},{majorDimension:"ROWS",values:u});case 10:return s=r.sent,l=s.result,p=t.length+1,r.abrupt("return",Object(Ie.a)({},l,{resultsUrl:"".concat(a,"/d/").concat(e,"#gid=0&range=").concat(p,":").concat(p)}));case 16:throw r.prev=16,r.t0=r.catch(7),new or(r.t0);case 19:case"end":return r.stop()}}),r,null,[[7,16]])})))()},addRow:function(e,t,n){var r=this;return Object(he.a)(ve.a.mark((function t(){var a,o;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.context.gapiClient.get(fr);case 2:return a=t.sent,o=a.sheets,t.abrupt("return",o.spreadsheets.values.append({spreadsheetId:e,valueInputOption:"USER_ENTERED",insertDataOption:"INSERT_ROWS",includeValuesInResponse:!1},{majorDimension:"ROWS",values:[n]}));case 5:case"end":return t.stop()}}),t)})))()}},hr={upload:function(e){var t=this;return Object(he.a)(ve.a.mark((function n(){var r,a,o,i,c;return ve.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.context.gapiClient.get();case 2:return r=n.sent,a=r.drive,n.prev=4,n.next=7,a.files.create({resource:{name:e.name,mimeType:e.type},fields:"id"});case 7:return o=n.sent,i=o.result,n.next=11,t.context.gapiClient.get();case 11:return c=n.sent.getToken(),n.next=14,fetch("https://www.googleapis.com/upload/drive/v3/files/"+i.id,{method:"PATCH",headers:new Headers({Authorization:"Bearer ".concat(c.access_token),"Content-Type":e.type}),body:e});case 14:return n.abrupt("return","https://docs.google.com/uc?export=download&id=".concat(i.id));case 17:throw n.prev=17,n.t0=n.catch(4),new or(n.t0);case 20:case"end":return n.stop()}}),n,null,[[4,17]])})))()}},Or=rr.a.validate.compile("[ { content: string, name: string, type: string } ]"),gr={serialize:function(e){return e.map((function(e,t){var n={};return Object.keys(e).forEach((function(r){try{if("object"===typeof e[r]){if(rr.a.validate.execute(e[r],Or))n[r]=e[r][0].content;else if(e[r]){n["$$"+r]=JSON.stringify(e[r])}}else n[r]=e[r]}catch(a){throw new ir(t,r,a)}})),n}))},deserialize:function(e){return e.map((function(e,t){var n={};return Object.keys(e).forEach((function(r){try{if(r.startsWith("$$")){if(e[r]){var a=r.substring(2);n[a]=JSON.parse(e[r])}}else n[r]=e[r]}catch(o){throw new cr(t+2,r,o)}})),n}))}},jr=tr.a.create({baseURL:"http://api.weatherstack.com/",method:"get"});jr.interceptors.request.use((function(e){var t=e.params,n=Object(Oe.a)(e,["params"]);return Object(Ie.a)({params:Object(Ie.a)({access_key:"a0f19817e4f97dcf9a2b4da08cfa516a",units:"f"},t)},n)}));var yr={current:function(e){return Object(he.a)(ve.a.mark((function t(){var n,r;return ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jr("/current",{params:{query:e}});case 2:return n=t.sent,r=n.data.current,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()}},wr=n(64),xr=n.n(wr);function Sr(){var e=Object(k.a)(["questions"]);return Sr=function(){return e},e}function Cr(){var e=Object(k.a)(["pastAnswers.",""]);return Cr=function(){return e},e}function Er(){var e=Object(k.a)(["pastAnswers.",""]);return Er=function(){return e},e}function Rr(){var e=Object(k.a)(["questions.pages"]);return Rr=function(){return e},e}function kr(){var e=Object(k.a)(["pastData"]);return kr=function(){return e},e}function Pr(e){return e.geolocation.getCurrentLoc().then((function(e){return{currentLoc:{latitude:e.latitude,longitude:e.longitude}}}))}function Tr(e){var t=e.survey,n=e.props;return t.setAnswer(n.question,n.answer)}function qr(){return(qr=Object(he.a)(ve.a.mark((function e(t){var n,r;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gapiClient,r=t.props,e.abrupt("return",n.init(r));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ar(){return(Ar=Object(he.a)(ve.a.mark((function e(t){var n;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.gapiClient,e.abrupt("return",n.disconnect());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ir(e){return Nr.apply(this,arguments)}function Nr(){return(Nr=Object(he.a)(ve.a.mark((function e(t){var n,r;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.googlesheets,e.next=3,n.createSheet();case 3:return r=e.sent,e.abrupt("return",{sheet:r});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dr(){return(Dr=Object(he.a)(ve.a.mark((function e(t){var n,r,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.serialize,r=t.props,a=r.results,e.abrupt("return",{results:n.serialize(a)});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mr(){return(Mr=Object(he.a)(ve.a.mark((function e(t){var n,r,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.serialize,r=t.props,a=r.results,e.abrupt("return",{results:n.deserialize(a)});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vr(){return(Vr=Object(he.a)(ve.a.mark((function e(t){var n,r,a,o,i;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.googlesheets,r=t.path,a=t.props,o=a.resultsId,e.prev=2,e.next=5,n.getSheet(o);case 5:if(e.t0=e.sent,e.t0){e.next=8;break}e.t0=[];case 8:return i=e.t0,e.abrupt("return",r.found({results:i}));case 12:return e.prev=12,e.t1=e.catch(2),e.abrupt("return",r.notfound());case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function Hr(){return(Hr=Object(he.a)(ve.a.mark((function e(t){var n,r,a,o;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.googlesheets,r=t.props,a=r.results,o=r.resultsId,e.abrupt("return",n.writeSheet(o,a));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ur(){return(Ur=Object(he.a)(ve.a.mark((function e(t){var n,r,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.googleappdata,r=t.props,e.next=3,n.initData(r);case 3:return a=e.sent,e.abrupt("return",{id:a});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qr(){return(Qr=Object(he.a)(ve.a.mark((function e(t){var n,r,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.googleappdata,r=t.props,e.next=3,n.updateData(r);case 3:return a=e.sent,e.abrupt("return",{result:a});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lr(){return(Lr=Object(he.a)(ve.a.mark((function e(t){var n,r,a,o,i;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.googleappdata,r=t.path,e.next=3,n.getData();case 3:if(a=e.sent,o=a.data,i=a.id,!o){e.next=10;break}return e.abrupt("return",r.found({body:o,id:i}));case 10:return e.abrupt("return",r.notfound());case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wr(){return(Wr=Object(he.a)(ve.a.mark((function e(t){var n,r,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.googledrive,r=t.props,e.next=3,n.upload(r.file);case 3:return a=e.sent,e.abrupt("return",{url:a});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _r(){return(_r=Object(he.a)(ve.a.mark((function e(t){var n,r,a;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.weather,r=t.props,a=r.latitude+","+r.longitude,e.next=4,n.current(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fr(){var e=Object(k.a)(["error"]);return Fr=function(){return e},e}function Br(){var e=Object(k.a)(["error"]);return Br=function(){return e},e}function zr(){var e=Object(k.a)(["error"]);return zr=function(){return e},e}function Gr(){var e=Object(k.a)(["wind_dir"]);return Gr=function(){return e},e}function Jr(){var e=Object(k.a)(["answer"]);return Jr=function(){return e},e}function $r(){var e=Object(k.a)(["wind_speed"]);return $r=function(){return e},e}function Yr(){var e=Object(k.a)(["answer"]);return Yr=function(){return e},e}function Kr(){var e=Object(k.a)(["temperature"]);return Kr=function(){return e},e}function Xr(){var e=Object(k.a)(["answer"]);return Xr=function(){return e},e}function Zr(){var e=Object(k.a)(["currentLoc"]);return Zr=function(){return e},e}function ea(){var e=Object(k.a)(["answer"]);return ea=function(){return e},e}function ta(){var e=Object(k.a)(["currentLoc.longitude"]);return ta=function(){return e},e}function na(){var e=Object(k.a)(["answer"]);return na=function(){return e},e}function ra(){var e=Object(k.a)(["currentLoc.latitude"]);return ra=function(){return e},e}function aa(){var e=Object(k.a)(["answer"]);return aa=function(){return e},e}function oa(){var e=Object(k.a)(["loggedin.name"]);return oa=function(){return e},e}function ia(){var e=Object(k.a)(["answer"]);return ia=function(){return e},e}function ca(){var e=Object(k.a)(["autofill"]);return ca=function(){return e},e}function ua(){var e=Object(k.a)(["surveyData"]);return ua=function(){return e},e}function sa(){var e=Object(k.a)(["question"]);return sa=function(){return e},e}function la(){var e=Object(k.a)(["currentLoc.longitude"]);return la=function(){return e},e}function pa(){var e=Object(k.a)(["longitude"]);return pa=function(){return e},e}function da(){var e=Object(k.a)(["currentLoc.latitude"]);return da=function(){return e},e}function fa(){var e=Object(k.a)(["latitude"]);return fa=function(){return e},e}function ma(){var e=Object(k.a)(["open"]);return ma=function(){return e},e}function ba(){var e=Object(k.a)(["debugMenuOpen"]);return ba=function(){return e},e}function va(){var e=Object(k.a)(["confirmSubmitOpen"]);return va=function(){return e},e}function ha(){var e=Object(k.a)(["store.clear"]);return ha=function(){return e},e}function Oa(){var e=Object(k.a)(["confirmSubmitOpen"]);return Oa=function(){return e},e}function ga(){var e=Object(k.a)(["resultsUrl"]);return ga=function(){return e},e}function ja(){var e=Object(k.a)(["resultsUrl"]);return ja=function(){return e},e}function ya(){var e=Object(k.a)(["resultsId"]);return ya=function(){return e},e}function wa(){var e=Object(k.a)(["resultsId"]);return wa=function(){return e},e}function xa(){var e=Object(k.a)(["pastData"]);return xa=function(){return e},e}function Sa(){var e=Object(k.a)(["results"]);return Sa=function(){return e},e}function Ca(){var e=Object(k.a)(["surveyData"]);return Ca=function(){return e},e}function Ea(){var e=Object(k.a)(["pastData"]);return Ea=function(){return e},e}function Ra(){var e=Object(k.a)(["loggedin"]);return Ra=function(){return e},e}function ka(){var e=Object(k.a)(["submitting"]);return ka=function(){return e},e}function Pa(){var e=Object(k.a)(["pastData"]);return Pa=function(){return e},e}function Ta(){var e=Object(k.a)(["loggedin"]);return Ta=function(){return e},e}function qa(){var e=Object(k.a)(["name"]);return qa=function(){return e},e}function Aa(){var e=Object(k.a)(["loggedin"]);return Aa=function(){return e},e}function Ia(){var e=Object(k.a)(["sheet.spreadsheetId"]);return Ia=function(){return e},e}function Na(){var e=Object(k.a)(["resultsId"]);return Na=function(){return e},e}function Da(){var e=Object(k.a)(["results"]);return Da=function(){return e},e}function Ma(){var e=Object(k.a)(["pastData"]);return Ma=function(){return e},e}function Va(){var e=Object(k.a)(["resultsId"]);return Va=function(){return e},e}function Ha(){var e=Object(k.a)(["resultsId"]);return Ha=function(){return e},e}function Ua(){var e=Object(k.a)(["loggedin"]);return Ua=function(){return e},e}function Qa(){var e=Object(k.a)(["loggedin"]);return Qa=function(){return e},e}function La(){var e=Object(k.a)(["id"]);return La=function(){return e},e}function Wa(){var e=Object(k.a)(["appdataId"]);return Wa=function(){return e},e}function _a(){var e=Object(k.a)(["body.resultsId"]);return _a=function(){return e},e}function Fa(){var e=Object(k.a)(["resultsId"]);return Fa=function(){return e},e}function Ba(){var e=Object(k.a)(["sheet.spreadsheetId"]);return Ba=function(){return e},e}function za(){var e=Object(k.a)(["body.resultsId"]);return za=function(){return e},e}function Ga(){var e=Object(k.a)(["body"]);return Ga=function(){return e},e}function Ja(){var e=Object(k.a)(["locations"]);return Ja=function(){return e},e}function $a(){var e=Object(k.a)(["answer"]);return $a=function(){return e},e}function Ya(){var e=Object(k.a)(["question"]);return Ya=function(){return e},e}function Ka(){var e=Object(k.a)(["surveyData.locations"]);return Ka=function(){return e},e}function Xa(){var e=Object(k.a)(["locations"]);return Xa=function(){return e},e}function Za(){var e=Object(k.a)(["pages"]);return Za=function(){return e},e}function eo(){var e=Object(k.a)(["pages"]);return eo=function(){return e},e}function to(){var e=Object(k.a)(["pageNum"]);return to=function(){return e},e}function no(){var e=Object(k.a)(["pageNum"]);return no=function(){return e},e}function ro(){var e=Object(k.a)(["data"]);return ro=function(){return e},e}function ao(){var e=Object(k.a)(["surveyData"]);return ao=function(){return e},e}function oo(){var e=Object(k.a)(["navigationOpen"]);return oo=function(){return e},e}function io(){var e=Object(k.a)(["navigationOpen"]);return io=function(){return e},e}function co(){var e=Object(k.a)(["sensorQRScannerActive"]);return co=function(){return e},e}function uo(){var e=Object(k.a)(["sensorQRScannerActive"]);return uo=function(){return e},e}function so(){var e=Object(k.a)(["droneQRScannerActive"]);return so=function(){return e},e}function lo(){var e=Object(k.a)(["droneQRScannerActive"]);return lo=function(){return e},e}function po(){var e=Object(k.a)(["initialized"]);return po=function(){return e},e}function fo(){var e=Object(k.a)(["store.init"]);return fo=function(){return e},e}function mo(){var e=Object(k.a)(["logout"]);return mo=function(){return e},e}function bo(){var e=Object(k.a)(["logout"]);return bo=function(){return e},e}function vo(){var e=Object(k.a)(["login"]);return vo=function(){return e},e}function ho(){var e=Object(k.a)(["login"]);return ho=function(){return e},e}var Oo=[Object(Nn.e)(Object(N.props)(ho()),Object(N.sequences)(vo())),Object(Nn.e)(Object(N.props)(bo()),Object(N.sequences)(mo())),function(e){return qr.apply(this,arguments)},function(e){return(0,e.get)(Object(N.sequences)(fo()))()},Object(Nn.e)(Object(N.state)(po()),!0)],go=[Object(Nn.e)(Object(N.state)(lo()),!0)],jo=[Object(Nn.e)(Object(N.state)(so()),!1)],yo=[Object(Nn.e)(Object(N.state)(uo()),!0)],wo=[Object(Nn.e)(Object(N.state)(co()),!1)],xo=[Object(Nn.e)(Object(N.state)(io()),!0)],So=[Object(Nn.e)(Object(N.state)(oo()),!1)],Co=[Object(Nn.e)(Object(N.state)(ao()),Object(N.props)(ro()))],Eo=[Tr],Ro=[Object(Nn.e)(Object(N.state)(no()),Object(N.props)(to()))],ko=[Object(Nn.e)(Object(N.state)(eo()),Object(N.props)(Za()))],Po=[function(e){return{error:e.survey.nextPage()}}],To=[function(e){return{error:e.survey.previousPage()}}],qo=[function(e){var t=e.survey;return e.props,{done:t.submit()}}],Ao=[Pr,Object(Nn.e)(Object(N.props)(Xa()),Object(N.state)(Ka())),function(e){var t=e.props;return{locations:t.locations.concat(t.currentLoc)}},Object(Nn.e)(Object(N.props)(Ya()),"locations"),Object(Nn.e)(Object(N.props)($a()),Object(N.props)(Ja())),Tr],Io=[Ir,Object(Nn.e)(Object(N.props)(Ga()),{}),Object(Nn.e)(Object(N.props)(za()),Object(N.props)(Ba())),function(e){var t=e.props;return{body:Object(yt.a)({},"resultsId-v".concat(t.version),t.body.resultsId)}}],No=[function(e){return{version:e.googlesheets.getVersion()}},function(e){return Lr.apply(this,arguments)},{found:[],notfound:[Io,function(e){return Ur.apply(this,arguments)}]},function(e){var t=e.props;return{body:{resultsId:t.body["resultsId-v".concat(t.version)]}}},Object(Nn.e)(Object(N.state)(Fa()),Object(N.props)(_a()),(function(e){return e||""})),Object(Nn.e)(Object(N.state)(Wa()),Object(N.props)(La()))],Do=[function(e){return Wr.apply(this,arguments)}],Mo=[Object(Nn.g)(Object(N.state)(Qa())),{true:[],false:[Object(Nn.e)(Object(N.state)(Ua()),!0),No,Object(Nn.e)(Object(N.props)(Ha()),Object(N.state)(Va())),function(e){return Vr.apply(this,arguments)},{found:[function(e){return Mr.apply(this,arguments)},Object(Nn.e)(Object(N.state)(Ma()),Object(N.props)(Da()))],notfound:[Io,Object(Nn.e)(Object(N.state)(Na()),Object(N.props)(Ia())),function(e){return Qr.apply(this,arguments)}]},function(e){var t=e.get,n=e.store,r=t(Object(N.state)(Rr()));r.forEach((function(e){xr()(e,(function e(n,r,a){switch(r){case"autocomplete":switch(n){case"previous":var o=a.name;a.choices=t(Object(N.state)(Er(),o))}break;case"previousAsChoices":if(n){var i=a.name,c=a.choices,u=void 0===c?[]:c;(t(Object(N.state)(Cr(),i))||[]).forEach((function(e){u.includes(e)||u.push(e)})),a.choices=u}break;default:"object"===typeof n&&xr()(n,e)}}))})),n.merge(Object(N.state)(Sr()),{pages:r})},Object(Nn.e)(Object(N.state)(Aa()),Object(N.props)(qa()),(function(e){return{name:e}}))]}],Vo=[Object(Nn.e)(Object(N.state)(Ta()),!1),Object(Nn.e)(Object(N.state)(Pa()),[])],Ho=[function(e){return Ar.apply(this,arguments)}],Uo=[Ir],Qo=[Object(Nn.e)(Object(N.state)(ka()),!0),Object(Nn.g)(Object(N.state)(Ra())),{true:[],false:Mo},Object(Nn.d)(Object(N.state)(Ea()),Object(N.state)(Ca())),Object(Nn.e)(Object(N.props)(Sa()),Object(N.state)(xa())),function(e){return Dr.apply(this,arguments)},Object(Nn.e)(Object(N.props)(wa()),Object(N.state)(ya())),function(e){return Hr.apply(this,arguments)},Object(Nn.e)(Object(N.state)(ja()),Object(N.props)(ga())),Object(Nn.e)(Object(N.state)(Oa()),!0),function(e){return(0,e.get)(Object(N.sequences)(ha()))()}],Lo=[Object(Nn.e)(Object(N.state)(va()),!1),function(){return window.location.reload()}],Wo=[Object(Nn.e)(Object(N.state)(ba()),Object(N.props)(ma()))],_o=[Pr,Object(Nn.e)(Object(N.props)(fa()),Object(N.props)(da())),Object(Nn.e)(Object(N.props)(pa()),Object(N.props)(la())),function(e){return _r.apply(this,arguments)}],Fo=[Object(Nn.g)(Object(N.props)(sa()),Object(N.state)(ua()),(function(e,t){return null!==t[e]&&void 0!==t[e]})),{true:[],false:[Object(Nn.a)(Object(N.props)(ca())),{person:[Object(Nn.e)(Object(N.props)(ia()),Object(N.state)(oa()))],latitude:[Pr,Object(Nn.e)(Object(N.props)(aa()),Object(N.props)(ra()))],longitude:[Pr,Object(Nn.e)(Object(N.props)(na()),Object(N.props)(ta()))],location:[Pr,Object(Nn.e)(Object(N.props)(ea()),Object(N.props)(Zr()),(function(e){var t=e.latitude,n=e.longitude;return"".concat(t,",").concat(n)}))],temperature:[_o,Object(Nn.e)(Object(N.props)(Xr()),Object(N.props)(Kr()))],windspeed:[_o,Object(Nn.e)(Object(N.props)(Yr()),Object(N.props)($r()))],winddirection:[_o,Object(Nn.e)(Object(N.props)(Jr()),Object(N.props)(Gr()))],lastused:[function(e){var t=e.get,n=e.props.question;try{var r=t(Object(N.state)(kr()));return{answer:r[r.length-1][n]}}catch(a){return{}}}],otherwise:[]}]}],Bo=[function(e){var t=e.error;return console.error(t)},Object(Nn.e)(Object(N.state)(zr()),Object(N.props)(Br()))],zo=[Object(Nn.f)(Object(N.state)(Fr()))],Go=n(140),Jo=n.n(Go);function $o(){var e=Object(k.a)(["pastData"]);return $o=function(){return e},e}function Yo(){var e=Object(k.a)(["pageNum"]);return Yo=function(){return e},e}function Ko(){var e=Object(k.a)(["pages"]);return Ko=function(){return e},e}function Xo(){var e=Object(k.a)(["pageNum"]);return Xo=function(){return e},e}function Zo(){var e=Object(k.a)(["pages"]);return Zo=function(){return e},e}function ei(){var e=Object(k.a)(["submitting"]);return ei=function(){return e},e}function ti(){var e=Object(k.a)(["loggedin"]);return ti=function(){return e},e}function ni(){var e=Object(k.a)(["initialized"]);return ni=function(){return e},e}var ri=function(e){return e(Object(N.state)(ni()))&&e(Object(N.state)(ti()))&&!e(Object(N.state)(ei()))&&!e(Object(N.state)(Zo())).some((function(e){return e.error}))},ai=function(e){var t=e(Object(N.state)(Xo())),n=e(Object(N.state)(Ko()));return t<n.length-1&&!n[t].error},oi=function(e){return e(Object(N.state)(Yo()))>0},ii=function(e){var t=e(Object(N.state)($o())),n={};return xr()(t,(function(e){return xr()(e,(function(e,t){if(!Qe(e))return Array.isArray(e)?e.map(r):r(e);function r(e){n[t]?n[t].some((function(t){return Jo()(t,e)}))||n[t].unshift(e):n[t]=[e]}}))})),n},ci={name:"general",title:"General",elements:[{name:"jobname",title:"Job/Project name",type:"text",autocomplete:"previous",choices:["Bob Ross","Rusty Shackleford"]},{name:"purpose",title:"Operation/Purpose",type:"dropdown",choices:["UAV","Planting",{value:"Spraying",text:"Spraying/Spreading"},"Tillage","Harvest",{value:"Anomalies",text:"Anomaly Reporting"}],isRequired:!0,autofill:"lastused"},{name:"datetime",title:"Date/Time of data",type:"text",inputType:"datetime-local",defaultValue:n(141).DateTime.local().toFormat("yyyy-MM-dd'T'HH:mm:ss")},{type:"panel",elements:[{name:"locations",title:"Collection locations",type:"paneldynamic",panelCount:1,minPanelCount:1,panelAddText:"Add Location",panelRemoveText:"Remove Location",templateTitle:"Location #{panelIndex}",templateElements:[{name:"location",title:"Lat/Lon or Label",type:"text",autofill:"location",isRequired:!0}]}]}]},ui={name:"place",title:"Place",elements:[{name:"client",title:"Grower (or Client)",type:"text",placeHolder:"Farmer Frank",autofill:"lastused",autocomplete:"previous"},{name:"operation",title:"Farm (or Operation)",type:"text",placeHolder:"Frank Farms",autocomplete:"previous"},{name:"site",title:"Field (or Site)",type:"text",placeHolder:"East Field",autocomplete:"previous"},{name:"crop",title:"Crop",type:"text",placeHolder:"corn",autocomplete:"previous"},{name:"prev-crop",title:"Previous Crop",type:"text",placeHolder:"beans",autocomplete:"previous"},{name:"weather",title:"Weather",type:"panel",elements:[{name:"weather-button",title:"Get Current Weather",type:"html",visible:!1,cerebralbutton:"setCurrentWeather"},{name:"temperature",title:"Temperature (\u2109)",type:"text",autofill:"temperature",placeHolder:"60 F"},{name:"windspeed",title:"Wind Speed (mph)",type:"text",autofill:"windspeed",placeHolder:"10 mph"},{name:"winddirection",title:"Wind Direction",type:"text",autofill:"winddirection",placeHolder:"ENE"}]}]},si={name:"anomalies",visibleIf:'{purpose} == "Anomalies"',title:"Anomalies and Disorders",elements:[{name:"anomalies",title:"Anomalies",type:"matrixdynamic",rowCount:0,addRowText:"Add Anomaly",removeRowText:"Remove Anomaly",columns:[{name:"type",title:"Type",cellType:"dropdown",isRequired:!0,hasOther:!0,choices:["Weather Event","Weed","Insect","Disease","Vertebrate","Nutrient Deficiency","Drainage Installation or Repair"]},{name:"what",title:"What",cellType:"text",isRequired:!0},{name:"when",title:"When",cellType:"text",inputType:"datetime-local",isRequired:!0},{name:"extent",title:"Extent",cellType:"text",isRequired:!0}]}]},li={name:"harvest-conditions",title:"Crop Conditions",visibleIf:'{purpose} == "Harvest"',elements:[{name:"harvest-conditions-moisture",title:"Grain Average Moisture (%)",type:"text",inputType:"number",isRequired:!1,placeHolder:"5 %"},{name:"harvest-conditions-anticipated-yield-avg",title:"Anticipated Yield Average (bu/ac)",type:"text",inputType:"number",isRequired:!1,placeHolder:"250 bu/ac"},{name:"harvest-conditions-lodging",title:"Lodging",type:"dropdown",isRequired:!0,choices:["None","Slight","Moderate","Severe"]},{name:"harvest-conditions-grain-quality",title:"Grain Quality",type:"tagbox",placeHolder:"Add conditions",isRequired:!1,choices:["Moldy","Splits","Grain Damage","High Foreign Matter","Sprouting Seeds"],previousAsChoices:!0}]},pi={name:"harvest-transport",title:"Transport",visibleIf:'{purpose} == "Harvest"',elements:[{name:"harvest-transport-cart",title:"Grain Cart?",type:"boolean",isRequired:!0},{name:"harvest-transport-cart-makemodel",visibleIf:"{harvest-transport-cart} == true",title:"Grain Cart Make and Model",type:"dropdown",hideIfChoicesEmpty:!1,isRequired:!0,hasOther:!0,storeOthersAsComment:!1,otherText:"Add new make and model",otherErrorText:"Please enter the new make and model",autocomplete:"previous",autofill:"lastused",choices:[]},{name:"harvest-transport-tractor-makemodel",visibleIf:"{harvest-transport-cart} == true",title:"Tractor Make and Model",type:"dropdown",hideIfChoicesEmpty:!1,isRequired:!0,hasOther:!0,storeOthersAsComment:!1,otherText:"Add new make and model",otherErrorText:"Please enter the new make and model",autocomplete:"previous",autofill:"lastused",choices:[]}]},di={name:"machinery",title:"Machinery",visibleIf:'["Planting", "Spraying", "Tillage", "Harvest"] contains {purpose}',elements:[{name:"machinery-operator",title:"Operator",type:"text",isRequired:!0,autocomplete:"previous",autofill:"lastused"},{name:"machinery-spray-or-spread",visibleIf:'{purpose} == "Spraying"',title:"Spray or Spread",type:"radiogroup",choices:["Spraying","Spreading"],isRequired:!0},{name:"machinery-pull-type",visibleIf:'{purpose} == "Spraying"',title:"Pull Type",type:"radiogroup",choices:["Pull","Self-Propelled"],isRequired:!0},{name:"machinery-makemodel",title:"Machine Make and Model",type:"dropdown",hideIfChoicesEmpty:!1,isRequired:!0,hasOther:!0,storeOthersAsComment:!1,otherText:"Add new make and model",otherErrorText:"Please enter the new make and model",autocomplete:"previous",autofill:"lastused",choices:[]},{name:"planter-makemodel",visibleIf:'{purpose} == "Planting"',title:"Planter Make and Model",type:"dropdown",hideIfChoicesEmpty:!1,isRequired:!0,hasOther:!0,storeOthersAsComment:!1,otherText:"Add new make and model",otherErrorText:"Please enter the new make and model",autocomplete:"previous",autofill:"lastused",choices:[]},{name:"planter-num-rows",visibleIf:'{purpose} == "Planting"',title:"Number of Planter Rows",type:"text",isRequired:!0,inputType:"number",autofill:"lastused"},{name:"machinery-implement",title:"Implement",type:"panel",elements:[{name:"machinery-implement-type",visibleIf:'{purpose} == "Tillage"',title:"Type",type:"dropdown",isRequired:!0,hasOther:!0,storeOthersAsComment:!1,otherText:"Add new type",otherErrorText:"Please enter the new type",autofill:"lastused",autocomplete:"previous"},{name:"machinery-implement-makemodel",visibleIf:'{purpose} == "Tillage" or {machinery-pull-type} == "Self-Propelled"',title:"Make and Model",type:"dropdown",hideIfChoicesEmpty:!1,isRequired:!0,hasOther:!0,storeOthersAsComment:!1,otherText:"Add new make and model",otherErrorText:"Please enter the new make and model",autofill:"lastused",autocomplete:"previous"}]},{name:"machinery-calibration-report",visibleIf:'{purpose} == "Planting"',title:"Calibration Report",type:"text",isRequired:!0},{name:"machinery-row-width",visibleIf:'{purpose} == "Planting"',title:"Row Width (ft)",type:"text",inputType:"number",placeHolder:"3 ft",isRequired:!0,autofill:"lastused"},{name:"machinery-width",visibleIf:'["Spraying", "Tillage"] contains {purpose}',title:"Width (ft)",type:"text",inputType:"number",placeHolder:"30 ft",isRequired:!0,autofill:"lastused"},{name:"machinery-hearder-width",visibleIf:'{purpose} == "Harvest"',title:"Header Width (ft or rows)",type:"text",inputType:"number",placeHolder:"30 ft",isRequired:!0,autofill:"lastused"},{name:"machinery-sprayer-type",visibleIf:'{purpose} == "Spraying"',title:"Type",type:"dropdown",isRequired:!0,autofill:"lastused",choices:["Nozzles","Drop Tube","Spinner"]},{name:"machinery-rate",visibleIf:'{purpose} == "Spraying"',title:"Rate",type:"text",isRequired:!0},{name:"machinery-speed",title:"Speed (mph)",type:"text",isRequired:!0,inputType:"number",placeHolder:"15 mph"},{name:"machinery-depth",visibleIf:'["Planting", "Tillage"] contains {purpose}',title:"Depth (in)",type:"text",isRequired:!0,inputType:"number",placeHolder:"1.5 in"},{name:"machinery-yield-mapped",visibleIf:'{purpose} == "Harvest"',title:"Yield Mapped?",type:"boolean",isRequired:!0},{name:"machinery-yield-calibrated",visibleIf:'{purpose} == "Harvest"',title:"Yield Monitor Calibrated?",type:"boolean",isRequired:!0},{name:"machinery-controller-makemodel",visibleIf:'["Planting", "Spraying"] contains {purpose}',title:"Controller Make and Model",type:"dropdown",hideIfChoicesEmpty:!1,isRequired:!1,hasOther:!0,storeOthersAsComment:!1,otherText:"Add new make and model",otherErrorText:"Please enter the new make and model",autocomplete:"previous",autofill:"lastused",choices:[]},{name:"machinery-variable-rate",visibleIf:'{purpose} == "Spraying"',title:"Variable Rate?",type:"boolean",isRequired:!0},{name:"machinery-variable-rate-source",visibleIf:'{purpose} == "Spraying" and {machinery-variable-rate} == true',title:"Variable Rate Source",type:"text",isRequired:!0,autocomplete:"previous"}]},fi={name:"planting-chemicals",title:"Chemicals",visibleIf:'{purpose} == "Planting"',elements:[{name:"planting-chemicals-starter",title:"Starter",type:"text",isRequired:!0,autocomplete:"previous",autofill:"lastused"},{name:"planting-chemicals-insectiside",title:"Insecticide",type:"text",isRequired:!0,autocomplete:"previous",autofill:"lastused"}]},mi={name:"planting-seed",title:"Seed",visibleIf:'{purpose} == "Planting"',elements:[{name:"seed-brand",title:"Brand",type:"text",autofill:"lastused",autocomplete:"previous",isRequired:!0},{name:"seed-variety",title:"Variety",type:"text",autofill:"lastused",autocomplete:"previous",isRequired:!0},{name:"seed-treatments",title:"Treatments",type:"tagbox",isRequired:!0,placeHolder:"Choose Treatments",previousAsChoices:!0},{name:"seed-population",title:"Population",type:"text",inputType:"number",autofill:"lastused",isRequired:!0}]},bi={name:"spraying-chemicals",title:"Chemicals",visibleIf:'{purpose} == "Spraying"',elements:["Herbicide","Insecticide","Fungicide","Fertilizer"].map((function(e){return{name:"spraying-chemicals-".concat(e.toLowerCase(),"s"),title:"".concat(e,"s"),type:"paneldynamic",panelCount:0,panelAddText:"Add ".concat(e),panelRemoveText:"Remove ".concat(e),autofill:"lastused",templateTitle:"".concat(e," #{panelIndex}"),templateElements:[{name:"spraying-checmicals-".concat(e.toLowerCase(),"s-product"),valueName:"product",title:"Product Name",type:"text",isRequired:!0},{name:"spraying-checmicals-".concat(e.toLowerCase(),"s-amount"),valueName:"amount",title:"Amount per Acre (this product)",type:"text",inputType:"number",isRequired:!0}]}}))},vi={name:"tillage-conditions",title:"Conditions",visibleIf:'{purpose} == "Tillage"',elements:[{name:"tillage-conditions-residue-start",title:"Residue Cover (%) at Start",type:"text",inputType:"number",isRequired:!1},{name:"tillage-conditions-residue-after",title:"Residue Cover (%) after Tillage",type:"text",inputType:"number",isRequired:!1},{name:"tillage-conditions-soil-temp",title:"Soil Temperature (\u2109)",type:"text",inputType:"number",isRequired:!0,placeHolder:"50 F"},{name:"tillage-conditions-soil-moisture",title:"Soil Moisture (%)",type:"text",inputType:"number",isRequired:!0,placeHolder:"23 %"},{name:"tillage-conditions-field-condition-start",title:"Field Condition at Start",type:"text",isRequired:!1,autocomplete:"previous"},{name:"tillage-conditions-field-condition-after",title:"Field Condition after Tillage",type:"text",isRequired:!1,autocomplete:"previous"}]},hi={name:"b4ufly",title:"B4UFLY Status",visible:!1,elements:[{name:"b4ufly-status",title:"Status",type:"dropdown",isRequired:!0,choices:["proceed with caution","flying in controlled airspace (class B/C/D/E)","other"]},{name:"b4ufly-extra",title:"",type:"panel",visibleIf:'{b4ufly-status} == "flying in controlled airspace (class B/C/D/E)" or {b4ufly-status} == "other"',elements:[{name:"b4ufly-airport-operator",title:"Airport Operator Contact",type:"text",requiredIf:'{b4ufly-status} == "flying in controlled airspace (class B/C/D/E)"'},{name:"b4ufly-control-tower",title:"Control Tower Contact",type:"text",requiredIf:'{b4ufly-status} == "flying in controlled airspace (class B/C/D/E)"'},{name:"b4ufly-prior-authorization",title:"Prior Authorization",type:"text",requiredIf:'{b4ufly-status} == "flying in controlled airspace (class B/C/D/E)"'}]},{name:"b4ufly-options",title:"Options",type:"checkbox",isRequired:!0,choices:["checked NOTAMS","checked flight restrictions","checked local restrictions","checked upcoming restrictions","checked national parks"]},{name:"b4ufly-certificate",title:"COW or COA #",type:"text"}]},Oi={name:"uav-drone",title:"UAV Info",visibleIf:'{purpose} == "UAV"',elements:[{name:"drone-screenshots",title:"Flight Planning Screenshots",type:"panel",elements:[{name:"drone-flight-planning",title:"Screenshot of Flight Planning",type:"file",storeDataAsText:!1,acceptedTypes:"image/*",allowMultiple:!1},{name:"drone-advanced-flight-planning",title:"Screenshot of Advanced Flight Planning",type:"file",storeDataAsText:!1,acceptedTypes:"image/*",allowMultiple:!1}]},{name:"drone-qr",title:"Scan drone QR code",type:"html",cerebralbutton:"showDroneQRScanner",visible:!1},{name:"uav-drone-type",title:"Type",type:"dropdown",isRequired:!0,defaultValue:"Fixed wing",hasOther:!0,choices:["Fixed wing","Multi-rotor","Helicopter"]},{name:"uav-drone-makemodel",title:"Make and Model",type:"dropdown",autofill:"lastused",hideIfChoicesEmpty:!1,hasOther:!0,storeOthersAsComment:!1,otherText:"Add new make and model",otherErrorText:"Please enter the new make and model",choices:[{make:"Test",model:"testtest",type:"Fixed wing"}].map((function(e,t){return{text:e.make+" "+e.model,value:e.make+" "+e.model,visibleIf:'{uav-drone-type} == "'.concat(e.type,'"')}}))}]},gi={name:"uav-operator",title:"UAV Operator",visibleIf:'{purpose} == "UAV"',elements:[{name:"remote-pics",title:"Remote Pilot in Command (PIC)",description:"remote PIC - A person who holds a remote pilot certificate with an sUAS rating and has the final authority and responsibility for the operation and safety of an sUAS operation conducted under part 107.",type:"paneldynamic",panelCount:1,minPanelCount:1,panelAddText:"Add Remote PIC",panelRemoveText:"Remove Remote PIC",autofill:"lastused",templateTitle:"Remote PIC #{panelIndex}",templateElements:[{name:"remote-pic-name",title:"Name",type:"text",autocomplete:"previous",isRequired:!0,placeHolder:"Rusty Shackleford"},{name:"remote-pic-certificate",title:"Certificate Number or equivalent",type:"text",inputType:"number",isRequired:!0,placeHolder:"1234567",validators:[{type:"regex",regex:/^[0-9]{7}$/,text:"License number must be 7 digits"}]}]},{name:"observer",title:"Visual Observer (VO)",description:"VO - A person acting as a flightcrew member who assists the small UA remote PIC and the person manipulating the controls to see and avoid other air traffic or objects aloft or on the ground.",type:"paneldynamic",panelCount:0,panelAddText:"Add VO",panelRemoveText:"Remove VO",templateTitle:"VO #{panelIndex}",templateElements:[{name:"observer-name",title:"Name",type:"text",isRequired:!0,placeHolder:"John Doe"}]}]},ji={name:"uav-sensors",title:"Sensors",visibleIf:'{purpose} == "UAV"',elements:[{name:"sensor-qr",type:"html",cerebralbutton:"showSensorQRScanner",visible:!1},{name:"sensors",title:"Sensors",type:"paneldynamic",panelCount:0,panelAddText:"Add Sensor",panelRemoveText:"Remove Sensor",autofill:"lastused",templateTitle:"Sensor #{panelIndex}",templateElements:[{name:"uav-sensor-type",valueName:"type",title:"Type",type:"dropdown",isRequired:!0,hasOther:!0,storeOthersAsComment:!1,otherText:"Add new type",otherErrorText:"Please enter the new type",choices:["RGB","Multispectral","Hyperspectral","LiDAR","Thermal"]},{name:"uav-sensor-makemodel",title:"Make and Model",type:"dropdown",hideIfChoicesEmpty:!1,isRequired:!0,hasOther:!0,storeOthersAsComment:!1,otherText:"Add new make and model",otherErrorText:"Please enter the new make and model",choices:[{make:"Sony",model:"A6000",type:"RGB"},{make:"Parrot",model:"Sequoia",type:"Multispectral"}].map((function(e,t){return{text:e.make+" "+e.model,value:e.make+" "+e.model,visibleIf:'{panel.type} == "'.concat(e.type,'"')}}))}]}]};var yi=[i,c,u,s,l,p,d,f,m,b,v,h,O,g].map(e=>e.default);yi.forEach((function(e){e.elements.push({name:"notes-".concat(e.name),title:"Notes or comments",type:"comment"},{type:"html",html:"* Indicates required field"})}));var wi,xi=yi,Si=(wi=["pageNum","surveyData"],{providers:{localstore:{get:function(e){return Mn.a.get(e)},set:function(e,t){return Mn.a.set(e,t)},clear:function(e){return Mn.a.remove(e)}}},state:{initialized:!1},sequences:{persistState:[Object(Nn.g)(Object(N.moduleState)(zn())),{true:function(e){var t=e.localstore,n=e.props,r=n.key,a=n.val;return{success:t.set(r,a)}},false:[]}],clear:[Object(Nn.c)("clear paths",wi.map((function(e){return[function(t){return{val:t.localstore.clear(e)}}]})))],init:[Object(Nn.c)("get paths",wi.map((function(e){return[function(t){return{val:t.localstore.get(e)}},Object(Nn.g)(Object(N.props)(Bn()),(function(e){return null===e})),{true:[],false:[Object(Nn.g)(Object(N.props)(Fn()),(function(e){return"object"===typeof e})),{true:[Object(Nn.b)(Object(N.state)(_n(),e),Object(N.props)(Wn()))],false:[Object(Nn.e)(Object(N.state)(Ln(),e),Object(N.props)(Qn()))]}]}]}))),Object(Nn.e)(Object(N.moduleState)(Un()),!0)]},reactions:wi.map((function(e){var t=Object(E.Reaction)({val:Object(N.state)(Hn(),e)},(function(n){var r=n.val,a=n.get,o=t.modulePath.join(".");return a(Object(N.sequences)(Vn(),o))({key:e,val:r})}));return Object(yt.a)({},e,t)})).reduce((function(e,t){return Object.assign(e,t)}),{})}),Ci={sequences:a,state:Object(Ie.a)({},o,{initialized:!1,loggedin:null,appdataId:null,resultsId:null,submitting:!1,navigationOpen:!1,confirmSubmitOpen:!1,droneQRScannerActive:!1,sensorQRScannerActive:!1,surveyData:null,pastData:[],pages:[],pageNum:0,questions:{showNavigationButtons:!1,goNextPageAutomatic:!0,clearInvisibleValues:"onHidden",checkErrorsMode:"onValueChanged",pages:xi}}),catch:[[Error,Bo]],providers:r,modules:{store:Si}},Ei=Object(E.default)(Ci,{devtools:null,throwToConsole:!0,noRethrow:!1,returnSequencePromise:!0});Ei.on("initialized:model",(function(){return console.log("sadsad")&&Ei.getSequence("init")()})),x.a.render(y.a.createElement(R.Container,{app:Ei},y.a.createElement(In,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("https://awlayton.github.io/metadata-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("https://awlayton.github.io/metadata-app","/service-worker.js");S?(!function(e,t){fetch(e).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):C(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")}))):C(t,e)}))}}()}},[[159,1,2]]]);
//# sourceMappingURL=main.2ab8d1eb.chunk.js.map